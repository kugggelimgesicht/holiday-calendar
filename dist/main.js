!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=function(e){return new Promise((function(t,n){const a=new XMLHttpRequest;a.open("GET",e,!0),a.onload=()=>t(JSON.parse(a.responseText)),a.send(null)}))}},function(e,t,n){const a=n(0),o=n(2),r=n(3),d=n(4),c=document.getElementById("current-year"),l=document.getElementById("month-year"),i=document.getElementById("calendar"),u=document.getElementById("back"),s=document.getElementById("forward"),y=document.getElementById("select");!async function(){const e=(await a("https://calendarific.com/api/v2/countries?api_key=631278285f119bfde72d52baaf69b9621974c38b")).response.countries,t=await a("https://get.geojs.io/v1/ip/country.json");o(y,t,e),y.addEventListener("change",(async function(){d(y.value,l.dataset.year)})),r("calendar",(new Date).getFullYear(),(new Date).getMonth()),u.addEventListener("click",(function(){r("calendar",l.dataset.year,Number(l.dataset.month)-1),d(y.value,l.dataset.year)})),s.addEventListener("click",(function(){r("calendar",l.dataset.year,Number(l.dataset.month)+1),d(y.value,l.dataset.year)})),i.addEventListener("change",(function(){r("calendar",c.value,Number(l.dataset.month)),d(y.value,l.dataset.year)})),d(y.value,l.dataset.year)}()},function(e,t){e.exports=function(e,t,n){for(const a of n)a.code=a["iso-3166"],t.name===a.country_name?e.insertAdjacentHTML("beforeend",`<option value='${a.code}' style="background-image:url(png/${a.code.toLowerCase()}.png)" selected>${a.country_name}</option>`):e.insertAdjacentHTML("beforeend",`<option value='${a.code}' style="background-image:url(png/${a.code.toLowerCase()}.png)">${a.country_name}</option>`)}},function(e,t){e.exports=function(e,t,n){const a=document.getElementById("current-year"),o=document.getElementById("tbody"),r=document.getElementById("month-year"),d=new Date(t,n+1,0).getDate(),c=new Date(t,n,d),l=new Date(c.getFullYear(),c.getMonth(),d).getDay(),i=new Date(c.getFullYear(),c.getMonth(),1).getDay();let u="<tr>";if(a.defaultValue=(new Date).getFullYear(),0!==i)for(let e=1;e<i;e++)u+="<td>";else for(let e=0;e<6;e++)u+="<td>";for(let e=1;e<=d;e++)e===(new Date).getDate()&&c.getFullYear()===(new Date).getFullYear()&&c.getMonth()===(new Date).getMonth()?u+=`<td id="today" data-date='${c.getFullYear()}-${c.getMonth()+1}-${e}'>`+e:u+=`<td data-date='${c.getFullYear()}-${c.getMonth()+1}-${e}'>`+e,0===new Date(c.getFullYear(),c.getMonth(),e).getDay()&&(u+="<tr>");for(let e=l;e<7;e++)u+="<td></td>";o.innerHTML=u,r.innerHTML=["January","February","March","April","May","June","July","August","September","October","November","December"][c.getMonth()]+" "+c.getFullYear(),r.dataset.month=c.getMonth(),r.dataset.year=c.getFullYear(),document.querySelectorAll("#"+e+" tbody tr").length<6&&(o.innerHTML+="<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>")}},function(e,t,n){const a=n(0),o=n(5),r=n(6);e.exports=async function(e,t){document.getElementById("description").innerHTML="";const n=document.getElementById("holidays"),d=(await a(`https://calendarific.com/api/v2/holidays?&api_key=631278285f119bfde72d52baaf69b9621974c38b&country=${e}&year=${t}`)).response.holidays;o(n,d),r(d)}},function(e,t){e.exports=function(e,t){e.innerHTML="";for(const n of t)e.insertAdjacentHTML("beforeend",`<li>${n.name}, ${new Date(n.date.iso).toLocaleDateString()}</li>`)}},function(e,t){e.exports=function(e){const t=document.getElementById("description"),n=document.getElementsByTagName("td");for(let a=0;a<n.length;a++)n[a].hasAttribute("data-date")&&(n[a].classList.remove(...n[a].classList),e.forEach(e=>{new Date(e.date.iso).toLocaleDateString()===new Date(n[a].getAttribute("data-date")).toLocaleDateString()&&(n[a].addEventListener("click",(function(){t.innerHTML=e.description})),"Local holiday"===e.type[0]?n[a].classList.add("local"):"Religious holiday"===e.type[0]?n[a].classList.add("religious"):"National holiday"===e.type[0]?n[a].classList.add("national"):"Observance"===e.type[0]?n[a].classList.add("observance"):n[a].classList.add("religious"))}))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvYWRKU09OLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGlzdENvdW50cmllcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVuZGVyQ2FsZW5kYXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlbG9hZEhvbGlkYXlzLmpzIiwid2VicGFjazovLy8uL3NyYy9saXN0SG9saWRheXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FkZEhvbGlkYXlzLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicGF0aCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwib25sb2FkIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0Iiwic2VuZCIsImxvYWRKU09OIiwibGlzdENvdW50cmllcyIsInJlbmRlckNhbGVuZGFyIiwicmVsb2FkSG9saWRheXMiLCJjdXJyWWVhciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJtb250aFllYXIiLCJjYWxlbmRhciIsImJhY2siLCJmb3J3YXJkIiwic2VsZWN0IiwiYXN5bmMiLCJjb3VudHJpZXMiLCJyZXNwb25zZSIsImN1cnJDb3VudHJ5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImRhdGFzZXQiLCJ5ZWFyIiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJOdW1iZXIiLCJtb250aCIsImluaXRBcHAiLCJjb3VudHJ5IiwiY29kZSIsImNvdW50cnlfbmFtZSIsImluc2VydEFkamFjZW50SFRNTCIsInRvTG93ZXJDYXNlIiwiaWQiLCJ0Ym9keSIsIm1vbnRoTGFzdEQiLCJnZXREYXRlIiwidG9kYXkiLCJtb250aExhc3RXRCIsImdldERheSIsIm1vbnRoRmlyc3RXRCIsInRhYmxlIiwiZGVmYXVsdFZhbHVlIiwiaW5uZXJIVE1MIiwicXVlcnlTZWxlY3RvckFsbCIsImxlbmd0aCIsImxpc3RIb2xpZGF5cyIsImFkZEhvbGlkYXlzIiwib2wiLCJob2xpZGF5cyIsImhvbGlkYXkiLCJkYXRlIiwiaXNvIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiZGVzY3JpcHRpb24iLCJ0ZHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImhhc0F0dHJpYnV0ZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsImZvckVhY2giLCJnZXRBdHRyaWJ1dGUiLCJ0eXBlIiwiYWRkIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9B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LFNBQVMsSUFBSXdELEtBQUs0QixFQUFRQyxLQUFLQyxLQUFLQywrQixjQzBCMUYvRixFQUFPRCxRQTlCUCxTQUFzQjRGLEdBQ3BCLE1BQU1LLEVBQWM5QyxTQUFTQyxlQUFlLGVBQ3RDOEMsRUFBTS9DLFNBQVNnRCxxQkFBcUIsTUFDMUMsSUFBSyxJQUFJakcsRUFBSSxFQUFHQSxFQUFJZ0csRUFBSVYsT0FBUXRGLElBQzFCZ0csRUFBSWhHLEdBQUdrRyxhQUFhLGVBQ3RCRixFQUFJaEcsR0FBR21HLFVBQVVDLFVBQVVKLEVBQUloRyxHQUFHbUcsV0FDbENULEVBQVNXLFFBQVFWLElBSVgsSUFBSTVCLEtBQUs0QixFQUFRQyxLQUFLQyxLQUFLQyx1QkFBeUIsSUFBSS9CLEtBQUtpQyxFQUFJaEcsR0FBR3NHLGFBQWEsY0FBY1IsdUJBQ2pHRSxFQUFJaEcsR0FBRzRELGlCQUFpQixTQUoxQixXQUNFbUMsRUFBWVgsVUFBWU8sRUFBUUksZUFLUixrQkFBcEJKLEVBQVFZLEtBQUssR0FDZlAsRUFBSWhHLEdBQUdtRyxVQUFVSyxJQUFJLFNBQ1Esc0JBQXBCYixFQUFRWSxLQUFLLEdBQ3RCUCxFQUFJaEcsR0FBR21HLFVBQVVLLElBQUksYUFDUSxxQkFBcEJiLEVBQVFZLEtBQUssR0FDdEJQLEVBQUloRyxHQUFHbUcsVUFBVUssSUFBSSxZQUNRLGVBQXBCYixFQUFRWSxLQUFLLEdBQ3RCUCxFQUFJaEcsR0FBR21HLFVBQVVLLElBQUksY0FFckJSLEVBQUloRyxHQUFHbUcsVUFBVUssSUFBSSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiLyoqXHJcbiAqIEBkZXNjcmlwdGlvbiDQv9GA0L7QuNC30LLQvtC00LjRgiBBSkFYLdC30LDQv9GA0L7RgdGLXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoINC/0YPRgtGMINC30LDQv9GA0L7RgdCwXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlfSDQv9GA0L7QvNC40YEg0YEg0YHQvtC00LXRgNC20LjQvNGL0Lwg0LfQsNC/0YDQvtGI0LXQvdC90L7Qs9C+INGE0LDQudC70LBcclxuICovXHJcbmZ1bmN0aW9uIGxvYWRKU09OIChwYXRoKSB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgeGhyLm9wZW4oJ0dFVCcsIHBhdGgsIHRydWUpO1xyXG4gICAgeGhyLm9ubG9hZCA9ICgpID0+IHJlc29sdmUoSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KSk7XHJcbiAgICB4aHIuc2VuZChudWxsKTtcclxuICB9KTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBsb2FkSlNPTjtcbiIsIlxyXG5jb25zdCBsb2FkSlNPTiA9IHJlcXVpcmUoJy4vbG9hZEpTT04uanMnKTtcclxuY29uc3QgbGlzdENvdW50cmllcyA9IHJlcXVpcmUoJy4vbGlzdENvdW50cmllcy5qcycpO1xyXG5jb25zdCByZW5kZXJDYWxlbmRhciA9IHJlcXVpcmUoJy4vcmVuZGVyQ2FsZW5kYXIuanMnKTtcclxuY29uc3QgcmVsb2FkSG9saWRheXMgPSByZXF1aXJlKCcuL3JlbG9hZEhvbGlkYXlzLmpzJyk7XHJcbmNvbnN0IGN1cnJZZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnJlbnQteWVhcicpO1xyXG5jb25zdCBtb250aFllYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9udGgteWVhcicpO1xyXG5jb25zdCBjYWxlbmRhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYWxlbmRhcicpO1xyXG5jb25zdCBiYWNrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhY2snKTtcclxuY29uc3QgZm9yd2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3J3YXJkJyk7XHJcbmNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3QnKTtcclxuXHJcbi8qKlxyXG4gKiBAZGVzY3JpcHRpb24g0YLQvtGH0LrQsCDQstGF0L7QtNCwINCyINC/0YDQuNC70L7QttC10L3QuNC1XHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBpbml0QXBwICgpIHtcclxuICBjb25zdCBjb3VudHJpZXMgPSAoYXdhaXQgbG9hZEpTT04oJ2h0dHBzOi8vY2FsZW5kYXJpZmljLmNvbS9hcGkvdjIvY291bnRyaWVzP2FwaV9rZXk9NjMxMjc4Mjg1ZjExOWJmZGU3MmQ1MmJhYWY2OWI5NjIxOTc0YzM4YicpKS5yZXNwb25zZS5jb3VudHJpZXM7XHJcbiAgY29uc3QgY3VyckNvdW50cnkgPSBhd2FpdCBsb2FkSlNPTignaHR0cHM6Ly9nZXQuZ2VvanMuaW8vdjEvaXAvY291bnRyeS5qc29uJyk7XHJcblxyXG4gIGxpc3RDb3VudHJpZXMoc2VsZWN0LCBjdXJyQ291bnRyeSwgY291bnRyaWVzKTtcclxuICBzZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgYXN5bmMgZnVuY3Rpb24gKCkge1xyXG4gICAgcmVsb2FkSG9saWRheXMoc2VsZWN0LnZhbHVlLCBtb250aFllYXIuZGF0YXNldC55ZWFyKTtcclxuICB9KTtcclxuXHJcbiAgcmVuZGVyQ2FsZW5kYXIoJ2NhbGVuZGFyJywgbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLCBuZXcgRGF0ZSgpLmdldE1vbnRoKCkpO1xyXG5cclxuICBiYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgcmVuZGVyQ2FsZW5kYXIoJ2NhbGVuZGFyJywgbW9udGhZZWFyLmRhdGFzZXQueWVhciwgTnVtYmVyKG1vbnRoWWVhci5kYXRhc2V0Lm1vbnRoKSAtIDEpO1xyXG4gICAgcmVsb2FkSG9saWRheXMoc2VsZWN0LnZhbHVlLCBtb250aFllYXIuZGF0YXNldC55ZWFyKTtcclxuICB9KTtcclxuXHJcbiAgZm9yd2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgIHJlbmRlckNhbGVuZGFyKCdjYWxlbmRhcicsIG1vbnRoWWVhci5kYXRhc2V0LnllYXIsIE51bWJlcihtb250aFllYXIuZGF0YXNldC5tb250aCkgKyAxKTtcclxuICAgIHJlbG9hZEhvbGlkYXlzKHNlbGVjdC52YWx1ZSwgbW9udGhZZWFyLmRhdGFzZXQueWVhcik7XHJcbiAgfSk7XHJcblxyXG4gIGNhbGVuZGFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uIGNoYW5nZVllYXIgKCkge1xyXG4gICAgcmVuZGVyQ2FsZW5kYXIoJ2NhbGVuZGFyJywgY3VyclllYXIudmFsdWUsIE51bWJlcihtb250aFllYXIuZGF0YXNldC5tb250aCkpO1xyXG4gICAgcmVsb2FkSG9saWRheXMoc2VsZWN0LnZhbHVlLCBtb250aFllYXIuZGF0YXNldC55ZWFyKTtcclxuICB9KTtcclxuICByZWxvYWRIb2xpZGF5cyhzZWxlY3QudmFsdWUsIG1vbnRoWWVhci5kYXRhc2V0LnllYXIpO1xyXG59XHJcblxyXG5pbml0QXBwKCk7XHJcbiIsIi8qKlxuICogQGRlc2NyaXB0aW9uINGB0L7Qt9C00LDQtdGCINCy0YvQv9Cw0LTQsNGO0YnQuNC5INGB0L/QuNGB0L7QuiDRgdGC0YDQsNC9LCDQsiDQutC+0YLQvtGA0L7QvCDQv9C+INGD0LzQvtC70YfQsNC90LjRjiDQstGL0LHRgNCw0L3QsCDRgdGC0YDQsNC90LAsINCyINC60L7RgtC+0YDQvtC5INC90LDRhdC+0LTQuNGC0YHRjyDQv9C+0LvRjNC30L7QstCw0YLQtdC70YxcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZWxlY3Qg0LLRi9C/0LDQtNCw0Y7RidC40Lkg0YHQv9C40YHQvtC6INC00LvRjyDRgdGC0YDQsNC9XG4gKiBAcGFyYW0ge09iamVjdH0gY3VyckNvdW50cnkg0YHRgtGA0LDQvdCwINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xuICogQHBhcmFtIHtPYmplY3RbXX0gY291bnRyaWVzINC80LDRgdGB0LjQsiDQstGB0LXRhSDRgdGC0YDQsNC9XG4gKi9cbmZ1bmN0aW9uIGxpc3RDb3VudHJpZXMgKHNlbGVjdCwgY3VyckNvdW50cnksIGNvdW50cmllcykge1xuICBmb3IgKGNvbnN0IGNvdW50cnkgb2YgY291bnRyaWVzKSB7XG4gICAgY291bnRyeS5jb2RlID0gY291bnRyeVsnaXNvLTMxNjYnXTtcbiAgICBpZiAoY3VyckNvdW50cnkubmFtZSA9PT0gY291bnRyeS5jb3VudHJ5X25hbWUpIHtcbiAgICAgIHNlbGVjdC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8b3B0aW9uIHZhbHVlPScke2NvdW50cnkuY29kZX0nIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTp1cmwocG5nLyR7KGNvdW50cnkuY29kZSkudG9Mb3dlckNhc2UoKX0ucG5nKVwiIHNlbGVjdGVkPiR7Y291bnRyeS5jb3VudHJ5X25hbWV9PC9vcHRpb24+YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGVjdC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8b3B0aW9uIHZhbHVlPScke2NvdW50cnkuY29kZX0nIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTp1cmwocG5nLyR7KGNvdW50cnkuY29kZSkudG9Mb3dlckNhc2UoKX0ucG5nKVwiPiR7Y291bnRyeS5jb3VudHJ5X25hbWV9PC9vcHRpb24+YCk7XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbGlzdENvdW50cmllcztcbiIsIi8qKlxyXG4gKiBAZGVzY3JpcHRpb24g0L7RgtGA0LjRgdC+0LLRi9Cy0LDQtdGCINC60LDQu9C10L3QtNCw0YDRjFxyXG4gKiBAcGFyYW0ge09iamVjdH0gaWQg0LrQvtC90YLQtdC50L3QtdGAINC00LvRjyDQutCw0LvQtdC90LTQsNGA0Y9cclxuICogQHBhcmFtIHtudW1iZXJ9IHllYXIg0LPQvtC0LCDQvdCwINC60L7RgtC+0YDQvtC8INC+0YLQutGA0YvRgiDQutCw0LvQtdC90LTQsNGA0YxcclxuICogQHBhcmFtIHtPYmplY3R9IG1vbnRoINC80LXRgdGP0YYsINC90LAg0LrQvtGC0L7RgNC+0Lwg0L7RgtC60YDRi9GCINC60LDQu9C10L3QtNCw0YDRjFxyXG4gKi9cclxuZnVuY3Rpb24gcmVuZGVyQ2FsZW5kYXIgKGlkLCB5ZWFyLCBtb250aCkge1xyXG4gIGNvbnN0IGN1cnJZZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnJlbnQteWVhcicpO1xyXG4gIGNvbnN0IHRib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rib2R5Jyk7XHJcbiAgY29uc3QgbW9udGhZZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vbnRoLXllYXInKTtcclxuXHJcbiAgY29uc3QgbW9udGhMYXN0RCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoICsgMSwgMCkuZ2V0RGF0ZSgpO1xyXG4gIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoeWVhciwgbW9udGgsIG1vbnRoTGFzdEQpO1xyXG4gIGNvbnN0IG1vbnRoTGFzdFdEID0gbmV3IERhdGUodG9kYXkuZ2V0RnVsbFllYXIoKSwgdG9kYXkuZ2V0TW9udGgoKSwgbW9udGhMYXN0RCkuZ2V0RGF5KCk7XHJcbiAgY29uc3QgbW9udGhGaXJzdFdEID0gbmV3IERhdGUodG9kYXkuZ2V0RnVsbFllYXIoKSwgdG9kYXkuZ2V0TW9udGgoKSwgMSkuZ2V0RGF5KCk7XHJcbiAgbGV0IHRhYmxlID0gJzx0cj4nO1xyXG4gIGNvbnN0IG1vbnRocyA9IFsnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddO1xyXG4gIGN1cnJZZWFyLmRlZmF1bHRWYWx1ZSA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcclxuXHJcbiAgaWYgKG1vbnRoRmlyc3RXRCAhPT0gMCkge1xyXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBtb250aEZpcnN0V0Q7IGkrKykgdGFibGUgKz0gJzx0ZD4nO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykgdGFibGUgKz0gJzx0ZD4nO1xyXG4gIH1cclxuICBmb3IgKGxldCBpID0gMTsgaSA8PSBtb250aExhc3REOyBpKyspIHtcclxuICAgIGlmIChpID09PSBuZXcgRGF0ZSgpLmdldERhdGUoKSAmJiB0b2RheS5nZXRGdWxsWWVhcigpID09PSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkgJiYgdG9kYXkuZ2V0TW9udGgoKSA9PT0gbmV3IERhdGUoKS5nZXRNb250aCgpKSB7XHJcbiAgICAgIHRhYmxlICs9IGA8dGQgaWQ9XCJ0b2RheVwiIGRhdGEtZGF0ZT0nJHt0b2RheS5nZXRGdWxsWWVhcigpfS0ke3RvZGF5LmdldE1vbnRoKCkgKyAxfS0ke2l9Jz5gICsgaTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRhYmxlICs9IGA8dGQgZGF0YS1kYXRlPScke3RvZGF5LmdldEZ1bGxZZWFyKCl9LSR7dG9kYXkuZ2V0TW9udGgoKSArIDF9LSR7aX0nPmAgKyBpO1xyXG4gICAgfVxyXG4gICAgaWYgKG5ldyBEYXRlKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCksIGkpLmdldERheSgpID09PSAwKSB7XHJcbiAgICAgIHRhYmxlICs9ICc8dHI+JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZvciAobGV0IGkgPSBtb250aExhc3RXRDsgaSA8IDc7IGkrKykgdGFibGUgKz0gJzx0ZD48L3RkPic7XHJcbiAgdGJvZHkuaW5uZXJIVE1MID0gdGFibGU7XHJcbiAgbW9udGhZZWFyLmlubmVySFRNTCA9IG1vbnRoc1t0b2RheS5nZXRNb250aCgpXSArICcgJyArIHRvZGF5LmdldEZ1bGxZZWFyKCk7XHJcbiAgbW9udGhZZWFyLmRhdGFzZXQubW9udGggPSB0b2RheS5nZXRNb250aCgpO1xyXG4gIG1vbnRoWWVhci5kYXRhc2V0LnllYXIgPSB0b2RheS5nZXRGdWxsWWVhcigpO1xyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjJyArIGlkICsgJyB0Ym9keSB0cicpLmxlbmd0aCA8IDYpIHtcclxuICAgIHRib2R5LmlubmVySFRNTCArPSAnPHRyPjx0ZD48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjwvdHI+JztcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcmVuZGVyQ2FsZW5kYXI7XHJcbiIsIlxyXG5jb25zdCBsb2FkSlNPTiA9IHJlcXVpcmUoJy4vbG9hZEpTT04uanMnKTtcclxuY29uc3QgbGlzdEhvbGlkYXlzID0gcmVxdWlyZSgnLi9saXN0SG9saWRheXMuanMnKTtcclxuY29uc3QgYWRkSG9saWRheXMgPSByZXF1aXJlKCcuL2FkZEhvbGlkYXlzLmpzJyk7XHJcblxyXG4vKipcclxuICogQGRlc2NyaXB0aW9uINGE0YPQvdC60YbQuNGPINC/0LXRgNC10LPRgNGD0LbQsNC10YIg0YHQv9C40YHQvtC6INC/0YDQsNC30LTQvdC40LrQvtCyINCyINGB0L7QvtGC0LLQtdGC0YHRgtCy0LjQuCDRgSDQstGL0LHRgNCw0L3QvdC+0Lkg0YHRgtGA0LDQvdC+0Lkg0Lgg0LPQvtC00L7QvFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY291bnRyeSDQstGL0LHRgNCw0L3QvdCw0Y8g0YHRgtGA0LDQvdCwXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB5ZWFyINCy0YvQsdGA0LDQvdC90YvQuSDQs9C+0LRcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHJlbG9hZEhvbGlkYXlzIChjb3VudHJ5LCB5ZWFyKSB7XHJcbiAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzY3JpcHRpb24nKTtcclxuICBkZXNjcmlwdGlvbi5pbm5lckhUTUwgPSAnJztcclxuICBjb25zdCBvbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdob2xpZGF5cycpO1xyXG4gIGNvbnN0IGhvbGlkYXlzID0gKGF3YWl0IGxvYWRKU09OKGBodHRwczovL2NhbGVuZGFyaWZpYy5jb20vYXBpL3YyL2hvbGlkYXlzPyZhcGlfa2V5PTYzMTI3ODI4NWYxMTliZmRlNzJkNTJiYWFmNjliOTYyMTk3NGMzOGImY291bnRyeT0ke2NvdW50cnl9JnllYXI9JHt5ZWFyfWApKS5yZXNwb25zZS5ob2xpZGF5cztcclxuICBsaXN0SG9saWRheXMob2wsIGhvbGlkYXlzKTtcclxuICBhZGRIb2xpZGF5cyhob2xpZGF5cyk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcmVsb2FkSG9saWRheXM7XHJcbiIsIi8qKlxyXG4gKiBAZGVzY3JpcHRpb24g0YTQvtGA0LzQuNGA0YPQtdGCINGB0L/QuNGB0L7QuiDQv9GA0LDQt9C00L3QuNC60L7Qsiwg0L/QtdGA0LXQtNCw0L3QvdGL0YUg0LLRgtC+0YDRi9C8INCw0YDQs9GD0LzQtdC90YLQvtC8XHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvbCDQv9GD0YHRgtC+0Lkg0YHQv9C40YHQvtC6XHJcbiAqIEBwYXJhbSB7T2JqZWN0W119IGhvbGlkYXlzINC80LDRgdGB0LjQsiDQv9GA0LDQt9C00L3QuNC60L7QslxyXG4gKi9cclxuZnVuY3Rpb24gbGlzdEhvbGlkYXlzIChvbCwgaG9saWRheXMpIHtcclxuICBvbC5pbm5lckhUTUwgPSAnJztcclxuICBmb3IgKGNvbnN0IGhvbGlkYXkgb2YgaG9saWRheXMpIHtcclxuICAgIG9sLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYDxsaT4ke2hvbGlkYXkubmFtZX0sICR7bmV3IERhdGUoaG9saWRheS5kYXRlLmlzbykudG9Mb2NhbGVEYXRlU3RyaW5nKCl9PC9saT5gKTtcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbGlzdEhvbGlkYXlzO1xyXG4iLCIvKipcclxuICogQGRlc2NyaXB0aW9uINC00L7QsdCw0LLQu9GP0LXRgiDQv9GA0LDQt9C00L3QuNC60Lgg0LIg0LrQsNC70LXQvdC00LDRgNGMXHJcbiAqIEBwYXJhbSB7T2JqZWN0W119IGhvbGlkYXlzINC80LDRgdGB0LjQsiDQv9GA0LDQt9C00L3QuNC60L7QslxyXG4gKi9cclxuZnVuY3Rpb24gYWRkSG9saWRheXMgKGhvbGlkYXlzKSB7XHJcbiAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzY3JpcHRpb24nKTtcclxuICBjb25zdCB0ZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGQnKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKHRkc1tpXS5oYXNBdHRyaWJ1dGUoJ2RhdGEtZGF0ZScpKSB7XHJcbiAgICAgIHRkc1tpXS5jbGFzc0xpc3QucmVtb3ZlKC4uLnRkc1tpXS5jbGFzc0xpc3QpO1xyXG4gICAgICBob2xpZGF5cy5mb3JFYWNoKGhvbGlkYXkgPT4ge1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldERlc2NyaXB0aW9uICgpIHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uLmlubmVySFRNTCA9IGhvbGlkYXkuZGVzY3JpcHRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuZXcgRGF0ZShob2xpZGF5LmRhdGUuaXNvKS50b0xvY2FsZURhdGVTdHJpbmcoKSA9PT0gbmV3IERhdGUodGRzW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1kYXRlJykpLnRvTG9jYWxlRGF0ZVN0cmluZygpKSB7XHJcbiAgICAgICAgICB0ZHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBnZXREZXNjcmlwdGlvbik7XHJcblxyXG4gICAgICAgICAgaWYgKGhvbGlkYXkudHlwZVswXSA9PT0gJ0xvY2FsIGhvbGlkYXknKSB7XHJcbiAgICAgICAgICAgIHRkc1tpXS5jbGFzc0xpc3QuYWRkKCdsb2NhbCcpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChob2xpZGF5LnR5cGVbMF0gPT09ICdSZWxpZ2lvdXMgaG9saWRheScpIHtcclxuICAgICAgICAgICAgdGRzW2ldLmNsYXNzTGlzdC5hZGQoJ3JlbGlnaW91cycpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChob2xpZGF5LnR5cGVbMF0gPT09ICdOYXRpb25hbCBob2xpZGF5Jykge1xyXG4gICAgICAgICAgICB0ZHNbaV0uY2xhc3NMaXN0LmFkZCgnbmF0aW9uYWwnKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoaG9saWRheS50eXBlWzBdID09PSAnT2JzZXJ2YW5jZScpIHtcclxuICAgICAgICAgICAgdGRzW2ldLmNsYXNzTGlzdC5hZGQoJ29ic2VydmFuY2UnKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRkc1tpXS5jbGFzc0xpc3QuYWRkKCdyZWxpZ2lvdXMnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBhZGRIb2xpZGF5cztcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==